---
description: Blog post format and update script
globs: blog/**/*.md, blog/posts.json, scripts/update_posts.js
alwaysApply: false
---

# Blog Content

## Post Format

- **Filename**: `YYYY-MM-DD-slug.md` (date prefix used for sorting)
- **Title**: First `# Heading` in file (extracted by `blog.js` and `update_posts.js`)
- **Frontmatter**: Optional; `gray-matter` parses it in `update_posts.js`

## Example

```markdown
# A Tale of Tech Support and the Myth of Support's Glass Ceiling

Published on 2023-05-25

---

Body content...
```

## posts.json

Generated by `node scripts/update_posts.js`. Structure:

```json
[{ "title": "...", "filename": "2023-05-25-slug.md" }]
```

- Run after adding/renaming posts
- Script preserves existing entries by filename; only adds new ones
- **Note**: `update_posts.js` currently extracts title via `<h1>...</h1>` regex; markdown uses `# Title`. Consider aligning with `^#\s+(.+)$/m` for consistency with `blog.js`
